=== TTS and Video Merge Fix Summary ===
Date: Sun Jul  6 01:55:52 +07 2025
Test Directory: test_tts_merge_fix_1751741751

Fixes Applied:
1. Fixed format string error in TTS filter complex
   - Changed: [a%!d(MISSING)] -> [a%d]
   - Issue: Missing parameter in fmt.Sprintf

2. Added proper error handling for TTS generation
   - Changed: ttsPath, _ := service.ConvertSRTToSpeech(...)
   - To: ttsPath, err := service.ConvertSRTToSpeech(...)
   - Added proper error logging and response

3. Enhanced segment processing
   - Improved text cleaning for Unicode characters
   - Better segment merging and splitting logic
   - Fixed timing calculations

Expected Behavior:
- TTS should generate without format string errors
- Video merge should work with proper audio mixing
- Error messages should be clear and helpful
- No more "Error opening input file ." issues

Test Results:
- Original Video: 10.000000s
- Background Music: 8.045714s
- Merged Video: 10.023023s

Next Steps:
1. Test with real video upload
2. Monitor logs for any remaining issues
3. Verify TTS timing accuracy
4. Check audio-video synchronization
